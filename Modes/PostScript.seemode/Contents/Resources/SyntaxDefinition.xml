<?xml version="1.0" encoding="UTF-8"?>
<syntax>
    <head>
        <name>PostScript</name>
        <autocompleteoptions use-spelling-dictionary="no" />
        <charsintokens><![CDATA[_0987654321abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ@=-!]]></charsintokens>
    </head>

    <states>
        <default id="Base" scope="meta.default">
                        
            <!-- Numbers -->
            <keywords id="Numbers" scope="language.constant.numeric" useforautocomplete="no">
                <regex>(?&lt;![\w\d_])((?:[+-]?(?:(?:[0-9]+\.[0-9]*)|(?:\.[0-9]+))(?:[eE][+\-]?[0-9]+)?[fFlL]?)|(?:(?:(?:[1-9][0-9]*)|0[0-7]*|(?:0[xX][0-9a-fA-F]+))(?:(?:[uU][lL]?)|(?:[lL][uU]?))?))(?![\w\d_])</regex>
            </keywords>
            
            <!-- Comments -->
            <state id="Comment" scope="comment.line">
                <begin><regex>%</regex></begin>
                <end><regex>[\n\r]</regex></end>
                <import mode="Base" state="EmailAndURLContainerState" keywords-only="yes"/>
            </state>

            <!-- Strings -->
            <state id="String" scope="string.quoted">
                <begin><regex>\(</regex></begin>
                <end><regex>\)</regex></end>
            </state>
            
            <!-- Bracket Matching for Arrays and Dictionaries -->
            <bracketmatching brackets="{}[]"/>

            <!-- Dictionary Keys -->
            <keywords id="DictionaryKeys" scope="keyword" useforautocomplete="yes">
                <regex>(/[A-Za-z0-9_!=\-]+)\s*</regex>
            </keywords>

            <state id="Block" type="block" foldable="yes" indent="yes" scope="meta.block.curly">
                <begin><regex>{</regex><autoend>}</autoend></begin>
                <end><regex>}</regex></end>
                <import/>
            </state>

            <!-- Ghostscript additions -->
            <keywords id="GhostScript additions" scope="language.operator" useforautocomplete="no">
                <string>=</string>
                <string>==</string>
                <string>flushpage=</string>
            </keywords>

            <!-- Operators -->
            <keywords id="Control-Operators" scope="keyword.control" casesensitive="yes" useforautocomplete="yes">
                
                <string>&lt;&lt;</string>
                <string>&gt;&gt;</string>
                
                <string>exec</string>
                <string>if</string>
                <string>ifelse</string>
                <string>repeat</string>
                <string>for</string>
                <string>forall</string>
                <string>loop</string>
                <string>exit</string>
                <string>stop</string>
                <string>put</string>
                <string>putinterval</string>
                <string>def</string>
            </keywords>

            <!-- Operators -->
            <keywords id="Operators" scope="language.operator" casesensitive="yes" useforautocomplete="yes">
                <string>abs</string>
                <string>add</string>
                <string>aload</string>
                <string>anchorsearch</string>
                <string>and</string>
                <string>arc</string>
                <string>arcn</string>
                <string>arct</string>
                <string>arcto</string>
                <string>array</string>
                <string>ashow</string>
                <string>astore</string>
                <string>atan</string>
                <string>awidthshow</string>
                <string>begin</string>
                <string>bind</string>
                <string>bitshift</string>
                <string>bytesavailable</string>
                <string>cachestatus</string>
                <string>ceiling</string>
                <string>charpath</string>
                <string>clear</string>
                <string>cleartomark</string>
                <string>cleardictstack</string>
                <string>clip</string>
                <string>clippath</string>
                <string>closefile</string>
                <string>closepath</string>
                <string>colorimage</string>
                <string>concat</string>
                <string>concatmatrix</string>
                <string>condition</string>
                <string>configurationerror</string>
                <string>copy</string>
                <string>copypage</string>
                <string>cos</string>
                <string>count</string>
                <string>countdictstack</string>
                <string>countexecstack</string>
                <string>counttomark</string>
                <string>cshow</string>
                <string>currentblackgeneration</string>
                <string>currentcacheparams</string>
                <string>currentcmykcolor</string>
                <string>currentcolor</string>
                <string>currentcolorrendering</string>
                <string>currentcolorscreen</string>
                <string>currentcolorspace</string>
                <string>currentcolortransfer</string>
                <string>currentcontext</string>
                <string>currentdash</string>
                <string>currentdevparams</string>
                <string>currentdict</string>
                <string>currentfile</string>
                <string>currentflat</string>
                <string>currentfont</string>
                <string>currentglobal</string>
                <string>currentgray</string>
                <string>currentgstate</string>
                <string>currenthalftone</string>
                <string>currenthalftonephase</string>
                <string>currenthsbcolor</string>
                <string>currentlinecap</string>
                <string>currentlinejoin</string>
                <string>currentlinewidth</string>
                <string>currentmatrix</string>
                <string>currentmiterlimit</string>
                <string>currentobjectformat</string>
                <string>currentpacking</string>
                <string>currentpagedevice</string>
                <string>currentpoint</string>
                <string>currentrgbcolor</string>
                <string>currentscreen</string>
                <string>currentshared</string>
                <string>currentstrokeadjust</string>
                <string>currentsystemparams</string>
                <string>currenttransfer</string>
                <string>currentundercolorremoval</string>
                <string>currentuserparams</string>
                <string>curveto</string>
                <string>cvi</string>
                <string>cvlit</string>
                <string>cvn</string>
                <string>cvr</string>
                <string>cvrs</string>
                <string>cvs</string>
                <string>cvx</string>
                <string>defaultmatrix</string>
                <string>definefont</string>
                <string>defineresource</string>
                <string>defineusername</string>
                <string>defineuserobject</string>
                <string>deletefile</string>
                <string>detach</string>
                <string>deviceinfo</string>
                <string>dict</string>
                <string>dictfull</string>
                <string>dictstack</string>
                <string>dictstackoverflow</string>
                <string>dictstackunderflow</string>
                <string>div</string>
                <string>dtransform</string>
                <string>dup</string>
                <string>echo</string>
                <string>eexec</string>
                <string>end</string>
                <string>eoclip</string>
                <string>eofill</string>
                <string>eoviewclip</string>
                <string>eq</string>
                <string>erasepage</string>
                <string>errordict</string>
                <string>exch</string>
                <string>execform</string>
                <string>execstack</string>
                <string>execstackoverflow</string>
                <string>execuserobject</string>
                <string>executeonly</string>
                <string>executive</string>
                <string>exp</string>
                <string>false</string>
                <string>file</string>
                <string>filenameforall</string>
                <string>fileposition</string>
                <string>fill</string>
                <string>filter</string>
                <string>findencoding</string>
                <string>findfont</string>
                <string>findresource</string>
                <string>flattenpath</string>
                <string>floor</string>
                <string>flush</string>
                <string>flushfile</string>
                <string>flushpage</string>
                <string>FontDirectory</string>
                <string>fork</string>
                <string>ge</string>
                <string>get</string>
                <string>getinterval</string>
                <string>globaldict</string>
                <string>GlobalFontDirectory</string>
                <string>glyphshow</string>
                <string>grestore</string>
                <string>grestoreall</string>
                <string>gsave</string>
                <string>gstate</string>
                <string>gt</string>
                <string>handleerror</string>
                <string>identmatrix</string>
                <string>idiv</string>
                <string>idtransform</string>
                <string>image</string>
                <string>imagemask</string>
                <string>index</string>
                <string>ineofill</string>
                <string>infill</string>
                <string>initclip</string>
                <string>initgraphics</string>
                <string>initmatrix</string>
                <string>initviewclip</string>
                <string>instroke</string>
                <string>internaldict</string>
                <string>interrupt</string>
                <string>inueofill</string>
                <string>inufill</string>
                <string>inustroke</string>
                <string>invalidaccess</string>
                <string>invalidcontext</string>
                <string>invalidexit</string>
                <string>invalidfileaccess</string>
                <string>invalidfont</string>
                <string>invalidid</string>
                <string>invalidrestore</string>
                <string>invertmatrix</string>
                <string>ioerror</string>
                <string>ISOLatin1Encoding</string>
                <string>itransform</string>
                <string>join</string>
                <string>kshow</string>
                <string>known</string>
                <string>languagelevel</string>
                <string>le</string>
                <string>length</string>
                <string>limitcheck</string>
                <string>lineto</string>
                <string>ln</string>
                <string>load</string>
                <string>lock</string>
                <string>log</string>
                <string>lt</string>
                <string>makefont</string>
                <string>makepattern</string>
                <string>mark</string>
                <string>matrix</string>
                <string>maxlength</string>
                <string>mod</string>
                <string>monitor</string>
                <string>moveto</string>
                <string>mul</string>
                <string>ne</string>
                <string>neg</string>
                <string>newpath</string>
                <string>noaccess</string>
                <string>nocurrentpoint</string>
                <string>not</string>
                <string>notify</string>
                <string>null</string>
                <string>nulldevice</string>
                <string>or</string>
                <string>packedarray</string>
                <string>pathbbox</string>
                <string>pathforall</string>
                <string>pop</string>
                <string>print</string>
                <string>printobject</string>
                <string>product</string>
                <string>prompt</string>
                <string>pstack</string>
                <string>quit</string>
                <string>rand</string>
                <string>rangecheck</string>
                <string>rcurveto</string>
                <string>read</string>
                <string>readhexstring</string>
                <string>readline</string>
                <string>readonly</string>
                <string>readstring</string>
                <string>realtime</string>
                <string>rectclip</string>
                <string>rectfill</string>
                <string>rectstroke</string>
                <string>rectviewclip</string>
                <string>renamefile</string>
                <string>resetfile</string>
                <string>resourceforall</string>
                <string>resourcestatus</string>
                <string>restore</string>
                <string>reversepath</string>
                <string>revision</string>
                <string>rlineto</string>
                <string>rmoveto</string>
                <string>roll</string>
                <string>rootfont</string>
                <string>rotate</string>
                <string>round</string>
                <string>rrand</string>
                <string>run</string>
                <string>save</string>
                <string>scale</string>
                <string>scalefont</string>
                <string>scheck</string>
                <string>search</string>
                <string>selectfont</string>
                <string>serialnumber</string>
                <string>setbbox</string>
                <string>setblackgeneration</string>
                <string>setcachedevice</string>
                <string>setcachedevice2</string>
                <string>setcachelimit</string>
                <string>setcacheparams</string>
                <string>setcharwidth</string>
                <string>setcmykcolor</string>
                <string>setcolor</string>
                <string>setcolorrendering</string>
                <string>setcolorscreen</string>
                <string>setcolorspace</string>
                <string>setcolortransfer</string>
                <string>setdash</string>
                <string>setdevparams</string>
                <string>setfileposition</string>
                <string>setflat</string>
                <string>setfont</string>
                <string>setglobal</string>
                <string>setgray</string>
                <string>setgstate</string>
                <string>sethalftone</string>
                <string>sethalftonephase</string>
                <string>sethsbcolor</string>
                <string>setlinecap</string>
                <string>setlinejoin</string>
                <string>setlinewidth</string>
                <string>setmatrix</string>
                <string>setmiterlimit</string>
                <string>setobjectformat</string>
                <string>setoverprint</string>
                <string>setpacking</string>
                <string>setpagedevice</string>
                <string>setpattern</string>
                <string>setrgbcolor</string>
                <string>setscreen</string>
                <string>setshared</string>
                <string>setstrokeadjust</string>
                <string>setsystemparams</string>
                <string>settransfer</string>
                <string>setucacheparams</string>
                <string>setundercolorremoval</string>
                <string>setuserparams</string>
                <string>setvmthreshold</string>
                <string>shareddict</string>
                <string>show</string>
                <string>showpage</string>
                <string>sin</string>
                <string>sqrt</string>
                <string>srand</string>
                <string>stack</string>
                <string>stackoverflow</string>
                <string>stackunderflow</string>
                <string>StandardEncoding</string>
                <string>start</string>
                <string>startjob</string>
                <string>status</string>
                <string>statusdict</string>
                <string>stopped</string>
                <string>store</string>
                <string>string</string>
                <string>stringwidth</string>
                <string>stroke</string>
                <string>strokepath</string>
                <string>sub</string>
                <string>syntaxerror</string>
                <string>systemdict</string>
                <string>timeout</string>
                <string>transform</string>
                <string>translate</string>
                <string>true</string>
                <string>truncate</string>
                <string>type</string>
                <string>typecheck</string>
                <string>token</string>
                <string>uappend</string>
                <string>ucache</string>
                <string>ucachestatus</string>
                <string>ueofill</string>
                <string>ufill</string>
                <string>undef</string>
                <string>undefined</string>
                <string>undefinedfilename</string>
                <string>undefineresource</string>
                <string>undefinedresult</string>
                <string>undefinefont</string>
                <string>undefineresource</string>
                <string>undefinedresource</string>
                <string>undefineuserobject</string>
                <string>unmatchedmark</string>
                <string>unregistered</string>
                <string>upath</string>
                <string>userdict</string>
                <string>UserObjects</string>
                <string>usertime</string>
                <string>ustroke</string>
                <string>ustrokepath</string>
                <string>version</string>
                <string>viewclip</string>
                <string>viewclippath</string>
                <string>VMerror</string>
                <string>vmreclaim</string>
                <string>vmstatus</string>
                <string>wait</string>
                <string>wcheck</string>
                <string>where</string>
                <string>widthshow</string>
                <string>write</string>
                <string>writehexstring</string>
                <string>writeobject</string>
                <string>writestring</string>
                <string>wtranslation</string>
                <string>xcheck</string>
                <string>xor</string>
                <string>xshow</string>
                <string>xyshow</string>
                <string>yield</string>
                <string>yshow</string>
            </keywords>

        </default>
    </states>
</syntax>
